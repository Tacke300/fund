<!DOCTYPE html>
<html>
<head>
    <title>Binance Square Control</title>
    <style>
        body { background: #0b0e11; color: #eaecef; font-family: sans-serif; padding: 20px; }
        .card { background: #1e2329; border-radius: 10px; padding: 20px; margin-bottom: 20px; border: 1px solid #333; }
        .btn { padding: 10px 20px; border-radius: 5px; cursor: pointer; border: none; font-weight: bold; }
        .btn-login { background: #fcd535; color: #000; }
        .btn-check { background: #474d57; color: #fff; }
        .btn-start { background: #0ecb81; color: #fff; }
        .user-info { font-size: 1.2em; color: #fcd535; margin: 10px 0; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        th, td { text-align: left; padding: 10px; border-bottom: 1px solid #333; }
    </style>
</head>
<body>
    <h1>ğŸš€ Binance Square Squad Bot</h1>

    <div class="card">
        <h3>BÆ°á»›c 1: XÃ¡c thá»±c tÃ i khoáº£n</h3>
        <button class="btn btn-login" onclick="fetch('/login')">1. Má»Ÿ trÃ¬nh duyá»‡t ÄÄƒng nháº­p</button>
        <button class="btn btn-check" onclick="updateInfo()">2. Kiá»ƒm tra tráº¡ng thÃ¡i Acc</button>
        
        <div class="user-info" id="userInfo">Account: ChÆ°a kiá»ƒm tra</div>
        <div id="userStats" style="color: #848e9c;">--</div>
    </div>

    <div class="card">
        <h3>BÆ°á»›c 2: Äiá»u khiá»ƒn Bot</h3>
        <button class="btn btn-start" onclick="fetch('/start')">Báº®T Äáº¦U ÄÄ‚NG BÃ€I</button>
        <button class="btn" style="background:#f6465d; color:white" onclick="fetch('/stop')">Dá»ªNG</button>
        <p id="botStatus">Tráº¡ng thÃ¡i: Äang dá»«ng</p>
    </div>

    <div class="card">
        <h3>Lá»‹ch sá»­ Ä‘Äƒng bÃ i (Tá»•ng: <span id="total">0</span>)</h3>
        <table>
            <thead><tr><th>Coin</th><th>Thá»i gian</th><th>Tráº¡ng thÃ¡i</th></tr></thead>
            <tbody id="logs"></tbody>
        </table>
    </div>

    <script>
        async function updateInfo() {
            const res = await fetch('/check');
            const data = await res.json();
            document.getElementById('userInfo').innerText = "Account: " + data.name;
            document.getElementById('userStats').innerText = data.followers + " | Status: " + data.status;
        }

        setInterval(async () => {
            const res = await fetch('/stats');
            const data = await res.json();
            document.getElementById('total').innerText = data.totalPosts;
            document.getElementById('botStatus').innerText = "Tráº¡ng thÃ¡i: " + (data.isRunning ? "Äang cháº¡y ğŸŸ¢" : "Äang dá»«ng ğŸ”´");
            document.getElementById('userInfo').innerText = "Account: " + data.userInfo.name;
            document.getElementById('userStats').innerText = data.userInfo.followers + " | Status: " + data.userInfo.status;
            
            document.getElementById('logs').innerHTML = data.history.map(h => `
                <tr><td>$${h.coin}</td><td>${h.time}</td><td style="color:#0ecb81">${h.status}</td></tr>
            `).join('');
        }, 3000);
    </script>
</body>
</html>
