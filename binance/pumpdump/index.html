
<!DOCTYPE html>
<html lang="vi">
<head>
┬а ┬а <meta charset="UTF-8">
┬а ┬а <meta name="viewport" content="width=device-width, initial-scale=1.0">
┬а ┬а <title>LUFFY PIRATE BOT - Bр║бN Sр╗гA 02</title>
┬а ┬а <script src="https://cdn.tailwindcss.com"></script>
┬а ┬а <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
┬а ┬а <style>
┬а ┬а ┬а ┬а @import url('https://fonts.googleapis.com/css2?family=Bangers&family=JetBrains+Mono:wght@400;700&display=swap');
┬а ┬а ┬а ┬а body {
┬а ┬а ┬а ┬а ┬а ┬а background: #050505; color: #eee; font-family: 'Inter', sans-serif;
┬а ┬а ┬а ┬а ┬а ┬а background-image: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9)), url('https://images.alphacoders.com/605/605592.png');
┬а ┬а ┬а ┬а ┬а ┬а background-size: cover; background-attachment: fixed; height: 100vh; overflow: hidden; display: flex; flex-direction: column;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .luffy-font { font-family: 'Bangers', cursive; letter-spacing: 1.5px; }
┬а ┬а ┬а ┬а .mono { font-family: 'JetBrains Mono', monospace; }
┬а ┬а ┬а ┬а .card { background: rgba(20, 20, 25, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 10px; }
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а /* Grid 6 ├┤ */
┬а ┬а ┬а ┬а .grid-6 { display: grid; grid-template-columns: repeat(1, 1fr); gap: 10px; }
┬а ┬а ┬а ┬а @media (min-width: 1024px) { .grid-6 { grid-template-columns: repeat(6, 1fr); } }

┬а ┬а ┬а ┬а .log-entry { border-left: 3px solid #444; padding-left: 8px; margin-bottom: 2px; font-size: 11px; line-height: 1.4; }
┬а ┬а ┬а ┬а .log-error { border-color: #ef4444; color: #f87171; background: rgba(239, 68, 68, 0.05); }
┬а ┬а ┬а ┬а .log-success { border-color: #22c55e; color: #4ade80; }
┬а ┬а ┬а ┬а .log-warn { border-color: #eab308; color: #facc15; }

┬а ┬а ┬а ┬а .btn-start { background: #22c55e; border-bottom: 4px solid #14532d; transition: 0.2s; }
┬а ┬а ┬а ┬а .btn-stop { background: #ef4444; border-bottom: 4px solid #7f1d1d; animation: pulse 2s infinite; }
┬а ┬а ┬а ┬а @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(0.98); } }
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а .ip-badge { background: #1e1b4b; border: 1px solid #4338ca; color: #818cf8; padding: 2px 6px; border-radius: 4px; font-size: 10px; }
┬а ┬а </style>
</head>
<body class="p-2 md:p-4">

┬а ┬а <header class="flex justify-between items-center mb-4 bg-black/60 p-3 rounded-xl border border-white/10">
┬а ┬а ┬а ┬а <div class="flex items-center gap-3">
┬а ┬а ┬а ┬а ┬а ┬а <img src="https://i.ibb.co/vYm0Fm6/luffy-gear-5.png" class="w-12 h-12 rounded-lg border-2 border-yellow-500">
┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h1 class="luffy-font text-2xl text-white">LUFFY <span class="text-red-500">PIRATE</span> <span class="text-[10px] bg-red-600 px-1 rounded ml-1">V.02</span></h1>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-center gap-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="ipStatus" class="ip-badge mono">─љang kiр╗Ѓm tra IP...</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="botStatusText" class="text-[10px] font-bold text-gray-500 uppercase">OFFLINE</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а <div class="text-right">
┬а ┬а ┬а ┬а ┬а ┬а <p class="text-[9px] text-gray-400 font-bold uppercase tracking-widest">T├аi khoр║Бn Futures</p>
┬а ┬а ┬а ┬а ┬а ┬а <p id="balance" class="text-2xl font-black text-yellow-400 mono tracking-tighter">$0.00</p>
┬а ┬а ┬а ┬а </div>
┬а ┬а </header>

┬а ┬а <div class="grid-6 mb-4">
┬а ┬а ┬а ┬а <div class="card flex flex-col justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <label class="text-[9px] text-gray-500 font-bold uppercase mb-1">Cр║Цu h├гnh Vр╗Љn</label>
┬а ┬а ┬а ┬а ┬а ┬а <div class="flex gap-1">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="invValue" class="w-2/3 bg-black border border-white/10 p-1 rounded text-xs text-white mono" value="1.5">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <select id="invType" class="w-1/3 bg-black border border-white/10 p-1 rounded text-[10px] text-yellow-500 font-bold">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="fixed">$</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="percent">%</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </select>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card flex flex-col justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <label class="text-[9px] text-gray-500 font-bold uppercase mb-1">Lр╗Їc Biр║┐n ─љр╗Ўng (%)</label>
┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="minVol" class="w-full bg-black border border-white/10 p-1 rounded text-xs text-red-500 font-bold mono" value="5.0">
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card flex flex-col justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <label class="text-[9px] text-gray-500 font-bold uppercase mb-1">Giр╗Џi hр║Аn Hр║Аm ─љр╗Ўi</label>
┬а ┬а ┬а ┬а ┬а ┬а <div class="flex gap-1">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="maxPositions" class="w-1/2 bg-black border border-white/10 p-1 rounded text-xs text-white mono" value="10" title="Max Lр╗Єnh">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="accountSL" class="w-1/2 bg-black border border-white/10 p-1 rounded text-xs text-orange-500 mono" value="30" title="SL TK %">
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card flex flex-col items-center justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <p class="text-[9px] text-gray-400 uppercase italic">Tр╗и lр╗Є thр║»ng</p>
┬а ┬а ┬а ┬а ┬а ┬а <p id="winRate" class="luffy-font text-3xl text-green-400">0%</p>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card flex items-center justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <button id="runBtn" onclick="handleToggle()" class="btn-start w-full py-3 text-white text-[11px] font-black uppercase rounded-lg">­Ъџб GIк»каNG BUр╗њM</button>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card flex items-center justify-center">
┬а ┬а ┬а ┬а ┬а ┬а <button onclick="handleUpdate()" class="w-full py-3 bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-black uppercase rounded-lg transition">Cр║гP NHр║гT</button>
┬а ┬а ┬а ┬а </div>
┬а ┬а </div>

┬а ┬а <div class="flex-grow grid grid-cols-1 md:grid-cols-12 gap-4 min-h-0 overflow-hidden">
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а <div class="md:col-span-4 flex flex-col gap-4 overflow-hidden">
┬а ┬а ┬а ┬а ┬а ┬а <div class="card flex-grow flex flex-col overflow-hidden border-t-2 border-blue-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex justify-between items-center mb-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="text-[10px] font-black text-blue-400 uppercase italic">Nhр║Гt k├й (Anti-Spam)</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button onclick="clearLogs()" class="text-[8px] text-gray-600 hover:text-red-500 uppercase">X├│a hр║┐t</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="botLogs" class="flex-grow overflow-y-auto mono pr-1 space-y-1"></div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а <div class="card h-[160px] flex flex-col border-t-2 border-yellow-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="text-[10px] font-black text-yellow-500 uppercase mb-2">S├│ng Biр║┐n ─љр╗Ўng Radar</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="radarList" class="flex-grow overflow-y-auto grid grid-cols-1 gap-1"></div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="md:col-span-8 card flex flex-col overflow-hidden border-t-2 border-red-500 p-0">
┬а ┬а ┬а ┬а ┬а ┬а <div class="p-3 border-b border-white/5 flex justify-between bg-black/40 items-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="luffy-font text-lg text-red-500">CHIр║ЙN TRк»р╗юNG LIVE</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="posCount" class="text-[10px] font-black text-white bg-red-600 px-2 py-1 rounded italic">0 Lр╗єNH</span>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а <div class="flex-grow overflow-y-auto">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <table class="w-full text-left text-[11px] mono">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <thead class="bg-black/90 sticky top-0 text-gray-500 uppercase border-b border-white/10">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <tr>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <th class="p-3">Cр║иp Tiр╗Ђn</th>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <th class="p-3">Side/Lev</th>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <th class="p-3">Entry/Mark</th>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <th class="p-3 text-right">PnL%</th>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </tr>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </thead>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <tbody id="positionTable" class="divide-y divide-white/5"></tbody>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </table>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>
┬а ┬а </div>

┬а ┬а <script>
┬а ┬а ┬а ┬а /** * JAVASCRIPT Bр║бN Sр╗гA BOT 02┬а
┬а ┬а ┬а ┬а ┬а* FIX: Anti-Spam Log & Show Public IP
┬а ┬а ┬а ┬а ┬а*/
┬а ┬а ┬а ┬а let isRunning = false;
┬а ┬а ┬а ┬а let lastErrorMsg = "";
┬а ┬а ┬а ┬а let errorCount = 0;

┬а ┬а ┬а ┬а // 1. Lр║Цy IP Public thр║Гt sр╗▒ ─Љр╗Ѓ Whitelist Binance
┬а ┬а ┬а ┬а async function checkPublicIP() {
┬а ┬а ┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а const res = await fetch('https://api.ipify.org?format=json');
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а const data = await res.json();
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('ipStatus').innerText = "IP WAN: " + data.ip;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('ipStatus').classList.add('text-green-400');
┬а ┬а ┬а ┬а ┬а ┬а } catch (e) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('ipStatus').innerText = "Kh├┤ng lр║Цy ─Љк░р╗Бc IP WAN";
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function pushLog(msg, type = 'info') {
┬а ┬а ┬а ┬а ┬а ┬а const botLogs = document.getElementById('botLogs');
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а // CHр║ХN SPAM: Nр║┐u lр╗Ќi lр║иp lр║Аi, chр╗Ѕ t─Ѓng sр╗Љ lк░р╗Бng
┬а ┬а ┬а ┬а ┬а ┬а if (type === 'error' && msg === lastErrorMsg) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а errorCount++;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (botLogs.firstChild) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а botLogs.firstChild.innerHTML = `<span class="opacity-40 text-[9px]">[${new Date().toLocaleTimeString()}]</span> <span class="font-bold">Lр║ХP Lр║аI (x${errorCount}):</span> ${msg}`;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а return;
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а lastErrorMsg = (type === 'error') ? msg : "";
┬а ┬а ┬а ┬а ┬а ┬а errorCount = 1;

┬а ┬а ┬а ┬а ┬а ┬а const div = document.createElement('div');
┬а ┬а ┬а ┬а ┬а ┬а div.className = `log-entry log-${type}`;
┬а ┬а ┬а ┬а ┬а ┬а div.innerHTML = `<span class="opacity-40 text-[9px]">[${new Date().toLocaleTimeString()}]</span> ${msg}`;
┬а ┬а ┬а ┬а ┬а ┬а botLogs.prepend(div);
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а if (botLogs.children.length > 50) botLogs.lastChild.remove();
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function clearLogs() { document.getElementById('botLogs').innerHTML = ''; }

┬а ┬а ┬а ┬а function updateUI(status_bool) {
┬а ┬а ┬а ┬а ┬а ┬а isRunning = status_bool;
┬а ┬а ┬а ┬а ┬а ┬а const btn = document.getElementById('runBtn');
┬а ┬а ┬а ┬а ┬а ┬а const txt = document.getElementById('botStatusText');
┬а ┬а ┬а ┬а ┬а ┬а if(isRunning) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а btn.innerText = "­ЪЏЉ Dр╗фNG CHIр║ЙN";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а btn.className = "btn-stop w-full py-3 text-white text-[11px] font-black uppercase rounded-lg";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а txt.innerText = "─љANG QU├ЅT K├ѕO...";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а txt.className = "text-[10px] font-bold text-green-500 uppercase";
┬а ┬а ┬а ┬а ┬а ┬а } else {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а btn.innerText = "­Ъџб GIк»каNG BUр╗њM";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а btn.className = "btn-start w-full py-3 text-white text-[11px] font-black uppercase rounded-lg";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а txt.innerText = "OFFLINE";
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а txt.className = "text-[10px] font-bold text-gray-500 uppercase";
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а async function sync() {
┬а ┬а ┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а const res = await fetch('/api/status');
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if(!res.ok) throw new Error("Server disconnected");
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а const data = await res.json();

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if(data.botSettings.isRunning !== isRunning) updateUI(data.botSettings.isRunning);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('balance').innerText = `$${(data.status.currentBalance || 0).toFixed(2)}`;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а // Winrate
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а let win = data.history.filter(h => parseFloat(h.pnl) > 0).length;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('winRate').innerText = data.history.length > 0 ? Math.round((win/data.history.length)*100) + "%" : "0%";

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а // Bр║Бng lр╗Єnh
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('posCount').innerText = `${data.activePositions.length} Lр╗єNH`;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('positionTable').innerHTML = data.activePositions.map(p => `
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <tr class="hover:bg-white/5 transition">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <td class="p-3 font-bold text-white">${p.symbol}</td>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <td class="p-3"><span class="${p.side === 'LONG' ? 'text-green-400' : 'text-red-400'} font-black">${p.side}</span> <span class="text-gray-500 text-[9px]">${p.leverage}x</span></td>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <td class="p-3 text-[10px]">$${p.entryPrice}<br><span class="text-white opacity-60">$${p.markPrice}</span></td>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <td class="p-3 text-right font-black ${parseFloat(p.pnlPercent) >= 0 ? 'text-green-400' : 'text-red-400'}">${p.pnlPercent}%</td>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </tr>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а `).join('');

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а // Radar
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if(data.status.candidatesList) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('radarList').innerHTML = data.status.candidatesList.map(c => `
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex justify-between items-center bg-white/5 p-2 rounded border-l-2 ${c.changePercent > 0 ? 'border-green-500' : 'border-red-500'}">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-[10px] font-bold">${c.symbol}</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-[10px] font-bold ${c.changePercent > 0 ? 'text-green-400' : 'text-red-400'}">${c.changePercent}%</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а `).join('');
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а // Log tр╗Ф Server
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (data.status.botLogs && data.status.botLogs.length > 0) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а const latest = data.status.botLogs[0];
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а pushLog(latest.msg, latest.type);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а ┬а ┬а } catch (e) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а pushLog("Mр║Цt kр║┐t nр╗Љi API Bot Cр╗Ћng 9001", "error");
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а async function handleToggle() {
┬а ┬а ┬а ┬а ┬а ┬а const next = !isRunning;
┬а ┬а ┬а ┬а ┬а ┬а updateUI(next);
┬а ┬а ┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а await fetch('/api/settings', {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а method: 'POST',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а headers: {'Content-Type': 'application/json'},
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а body: JSON.stringify({ isRunning: next })
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а pushLog(next ? "Gр╗Гi lр╗Єnh xuр║Цt qu├бn!" : "Lр╗Єnh hр║А buр╗Њm!", "warn");
┬а ┬а ┬а ┬а ┬а ┬а } catch (e) { pushLog("Lр╗Ќi lр╗Єnh ─Љiр╗Ђu khiр╗Ѓn", "error"); }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а async function handleUpdate() {
┬а ┬а ┬а ┬а ┬а ┬а const body = {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а invValue: parseFloat(document.getElementById('invValue').value),
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а invType: document.getElementById('invType').value,
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а minVol: parseFloat(document.getElementById('minVol').value),
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а maxPositions: parseInt(document.getElementById('maxPositions').value),
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а accountSL: parseFloat(document.getElementById('accountSL').value)
┬а ┬а ┬а ┬а ┬а ┬а };
┬а ┬а ┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а await fetch('/api/settings', {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а method: 'POST',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а headers: {'Content-Type': 'application/json'},
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а body: JSON.stringify(body)
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а pushLog("Cр║Цu h├гnh hр║Аm ─Љр╗Ўi ─Љ├Б lк░u!", "success");
┬а ┬а ┬а ┬а ┬а ┬а } catch (e) { pushLog("Lр╗Ќi lк░u cр║Цu h├гnh", "error"); }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а checkPublicIP();
┬а ┬а ┬а ┬а setInterval(sync, 2000);
┬а ┬а </script>
</body>
</html>

┬аAPI endpoints instead.
0|pd┬а | Lр╗Ќi tuр║Дn tra: Order type not supported for this endpoint. Please use the Algo Order API endpoints instead.
0|pd┬а | [WARN] РџЊ┬а Hр║а BUр╗њM!
0|pd┬а | [WARN] РџЊ┬а Hр║а BUр╗њM!
0|pd┬а | [SUCCESS] ­Ъџб GIк»каNG BUр╗њ
0|pd┬а | Lр╗Ќi tuр║Дn tra: Order type not supported for this endpoint. Please use the Algo Order API endpoints instead.
0|pd┬а | [WARN] РџЊ┬а Hр║а BUр╗њM!
